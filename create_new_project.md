# Create New Project

{
  "name": "CreateNewProject",
  "description": "Complete automation to create a new project directory, set up all tools (Claude Code, Serena, Archon), copy necessary files, and prepare for Orca workflow execution.",
  "parameters": [
    {
      "name": "project_name",
      "type": "string",
      "description": "Name of the new project (will be used as directory name and project identifier)"
    },
    {
      "name": "project_path",
      "type": "string",
      "description": "Parent directory path where the new project should be created (e.g., 'C:\\\\Users\\\\username\\\\projects')"
    },
    {
      "name": "project_description",
      "type": "string",
      "description": "Short description of the software/tool/feature to be developed"
    },
    {
      "name": "constraints",
      "type": "string",
      "description": "Development constraints, e.g., solo developer, free/open tools, target platform"
    },
    {
      "name": "auto_start_workflow",
      "type": "boolean",
      "description": "If true, automatically execute StartWorkflow after project setup is complete"
    }
  ],
  "prompt": "You are creating a complete new project with the Orca workflow system. Execute these steps systematically:\n\n## Step 1: Create Project Structure\n\n```bash\n# Create main project directory\nmkdir -p \"{project_path}/{project_name}\"\ncd \"{project_path}/{project_name}\"\n\n# Create subdirectories\nmkdir -p .claude .serena templates docs\n```\n\n## Step 2: Copy Orca Core Files\n\nCopy these files from the Orca template directory to the new project:\n- `start.md` ‚Üí `start.md`\n- `startup_check.md` ‚Üí `startup_check.md`\n- `check_dependencies.md` ‚Üí `check_dependencies.md`\n- `bootstrap_project.md` ‚Üí `bootstrap_project.md`\n- `archon_rules.md` ‚Üí `archon_rules.md` ‚ö†Ô∏è **CRITICAL: Archon-first development rules**\n- `templates/agent_definitions.md` ‚Üí `templates/agent_definitions.md`\n- `templates/agent_prompts.md` ‚Üí `templates/agent_prompts.md`\n- `templates/.claude.json` ‚Üí `.claude/claude.json`\n\n## Step 3: Generate Project-Specific Files\n\nCreate customized files using the template variables:\n\n1. **PROJECT_BRIEF.md**: Replace {project_name}, {project_description}, {constraints}, {timestamp}\n2. **README.md**: Replace template variables with actual project information  \n3. **CLAUDE.md**: Replace template variables and add project-specific guidance\n4. **.gitignore**: Copy from gitignore_template\n5. **.serena/project.yml**: Create with project configuration\n\n## Step 4: Configure MCP Servers\n\n```bash\n# Navigate to new project directory\ncd \"{project_path}/{project_name}\"\n\n# Add Archon MCP server\nclaude mcp add archon -- http://localhost:8051/mcp\n\n# Add Serena MCP server with current project path\nclaude mcp add serena -- uvx --from git+https://github.com/oraios/serena serena start-mcp-server --context ide-assistant --project $(pwd)\n```\n\n## Step 5: Validate Setup\n\n1. **Check MCP connectivity**:\n   ```bash\n   claude mcp list\n   ```\n   Should show both archon and serena as connected.\n\n2. **Run dependency check**:\n   Execute CheckDependencies function to verify all systems operational.\n\n3. **Test Archon integration**:\n   ```\n   mcp__archon__health_check()\n   ```\n\n4. **Create Archon project entry**:\n   ```\n   mcp__archon__manage_project(\"create\", title=\"{project_name}\", description=\"{project_description}\", github_repo=\"https://github.com/[username]/{project_name}\")\n   ```\n   Store the returned project_id for future reference.\n\n5. **Initialize Serena project context**:\n   ```\n   # Check if Serena onboarding is needed\n   mcp__serena__check_onboarding_performed()\n\n   # If not onboarded, perform comprehensive onboarding\n   mcp__serena__onboarding()\n\n   # Create standardized memory files for the project\n   mcp__serena__write_memory(\"project_overview.md\", \"Project purpose, architecture, and tech stack overview\")\n   mcp__serena__write_memory(\"code_structure.md\", \"Repository structure and file organization\")\n   mcp__serena__write_memory(\"suggested_commands.md\", \"Development commands and workflows\")\n   mcp__serena__write_memory(\"style_conventions.md\", \"Code style, naming conventions, and patterns\")\n   mcp__serena__write_memory(\"task_completion_guidelines.md\", \"Task workflow and completion criteria\")\n   ```\n\n6. **Verify both systems are initialized**:\n   ```\n   # Test Serena functionality\n   mcp__serena__list_dir(\".\", recursive=false)\n\n   # Test Archon functionality\n   mcp__archon__find_projects(query=\"{project_name}\")\n   ```\n\n## Step 6: GitHub Integration (if github_setup is true)\n\n```bash\n# Verify GitHub CLI is available and authenticated\ngh auth status\n\n# Initialize git repository\ngit init\n\n# Create appropriate .gitignore for project type\n# (Will be determined during Architecture phase, use basic template for now)\n\n# Stage all files\ngit add .\n\n# Initial commit\ngit commit -m \"üöÄ Initial Orca project setup for {project_name}\n\nGenerated with Orca Workflow Orchestration System\n- Multi-agent development workflow\n- Archon task management integration  \n- Serena semantic code operations\n- Comprehensive project templates\n\nü§ñ Generated with [Claude Code](https://claude.ai/code)\"\n\n# Create GitHub repository\ngh repo create {project_name} --private --description \"{project_description}\" --source .\n\n# Push to GitHub\ngit push -u origin main\n```\n\n**GitHub Setup Validation**:\n```bash\n# Verify repository was created successfully\ngh repo view {project_name}\n\n# Confirm remote is properly configured\ngit remote -v\n```\n\n## Step 7: Final Validation and Handoff\n\n1. **Verify all files are in place**:\n   - Core Orca workflow files ‚úì\n   - Project-specific documentation ‚úì \n   - MCP server configurations ‚úì\n   - Template files ‚úì\n\n2. **Test StartWorkflow availability**:\n   Confirm that the StartWorkflow function can be executed in the new project.\n\n3. **Switch Claude Code context**:\n   Ensure Claude Code is now operating in the new project directory.\n\n## Step 8: Auto-Start Workflow (if requested)\n\nIf auto_start_workflow is true, execute:\n```\nStartWorkflow(\n  project_description=\"{project_description}\",\n  constraints=\"{constraints}\", \n  clarification_mode=true\n)\n```\n\n## Success Output\n\nReturn a summary with:\n- ‚úÖ **Project Created**: Full path to new project\n- ‚úÖ **Tools Configured**: Archon, Serena, Claude Code status\n- ‚úÖ **Ready for Development**: Confirmation that StartWorkflow can be executed\n- üöÄ **Next Steps**: Instructions for beginning the workflow\n\n## Error Handling\n\nIf any step fails:\n1. Report the specific failure point\n2. Provide troubleshooting steps\n3. Allow for manual intervention\n4. Continue from the failed step once resolved\n\nThe project should be completely self-contained and ready for independent development workflow execution."
}